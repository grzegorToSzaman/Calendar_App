(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{17:function(e,t,n){e.exports=n(27)},22:function(e,t,n){},23:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(11),c=n.n(o),s=(n(22),n(16)),i=n(1),l=n(2),u=n(4),h=n(3),m=n(5),p=(n(23),n(8)),d=n.n(p),f=n(12),v=n.n(f),b=n(13),w=n.n(b),y=n(14),O=n.n(y),E=n(15),j=n.n(E),g=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).keyDown=function(e){"Enter"===e.key&&n.props.close()},n.changeName=function(e){n.props.userName(e.target.value)},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.input.focus(),document.addEventListener("keydown",this.keyDown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyDown)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"welcome"},r.a.createElement(d.a,{top:!0,delay:0},r.a.createElement("h1",null,"HELLO!")),r.a.createElement(d.a,{delay:200,top:!0},r.a.createElement("h2",null,"Are You ready for some math?")),r.a.createElement(d.a,{top:!0,delay:300},r.a.createElement("h4",null,"Your name:")),r.a.createElement(d.a,{delay:450,top:!0},r.a.createElement("input",{onChange:this.changeName,ref:function(t){return e.input=t},defaultValue:"GallAnonim"})),r.a.createElement(d.a,{delay:600,top:!0},r.a.createElement("button",{onClick:this.props.close},"YES!")))}}]),t}(a.Component),k=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.bestScore.map((function(e){return r.a.createElement("div",{className:"high-scores",key:e.id},e.name," ",e.score)})))}}]),t}(a.Component),S=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).keyDown=function(e){"Enter"===e.key&&n.refresh()},n.refresh=function(){n.props.ready()},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyDown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyDown)}},{key:"render",value:function(){return r.a.createElement("div",{className:"game-over"},r.a.createElement(w.a,null,r.a.createElement("h1",null,"GAME OVER")),r.a.createElement(j.a,{delay:1e3},r.a.createElement("h1",null,"Your score: ",this.props.score)),r.a.createElement(k,{bestScore:this.props.bestScores}),r.a.createElement(O.a,{delay:2e3,count:3},r.a.createElement("button",{onClick:this.refresh},"AGAIN!")))}}]),t}(a.Component),N=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e={width:this.props.width+"%"};return r.a.createElement("div",{className:"bar"},r.a.createElement("span",{id:"progress-bar",style:e}))}}]),t}(a.Component),A=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"operation"},this.props.a," + ",this.props.b)}}]),t}(a.Component),C=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){n.props.answer(e.target.value)},n.handleEnter=function(e){"Enter"===e.key&&n.props.enter()},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.input.focus()}},{key:"render",value:function(){var e=this;return r.a.createElement("input",{type:"number",autoComplete:"off",className:"answer",name:"answer",value:this.props.zeroInput,onChange:this.handleChange,ref:function(t){return e.input=t},onKeyDown:this.handleEnter})}}]),t}(a.Component),D=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"score"},r.a.createElement(v.a,{right:!0,duration:1500},r.a.createElement("h1",null,"Score: ",this.props.score),r.a.createElement("h1",null,"Level: ",this.props.level)))}}]),t}(a.Component),I=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={score:0,level:1,answer:"",correctAnswer:"",width:0,a:0,b:0,bestScores:[]},n.randomNumber=function(){var e=Math.round(Math.random()*(10*n.state.level)),t=Math.round(Math.random()*(10*n.state.level));n.setState({a:e,b:t}),n.changeCorrectAnswer(e+t)},n.startInterval=function(){n.setState({width:100}),n.intervalID=setInterval((function(){n.state.width>0?n.setState({width:n.state.width-1}):(clearInterval(n.intervalID),n.checkAnswer())}),30)},n.changeAnswer=function(e){n.setState({answer:e})},n.changeCorrectAnswer=function(e){n.setState({correctAnswer:e})},n.checkAnswer=function(){n.state.answer==n.state.correctAnswer?(clearInterval(n.intervalID),n.setState({score:n.state.score+1,answer:""}),0===n.state.score?n.setState({level:1}):n.setState({level:Math.ceil(n.state.score/5)}),n.startInterval(),n.randomNumber()):(n.props.score(n.state.score),n.props.gameover(),n.checkScore())},n.checkScore=function(){var e=Object(s.a)(n.state.bestScores),t=n.state.score,a=n.props.userName,r=function(e){fetch("http://localhost:3010/bestScores/"+e,{headers:{"Content-Type":"application/json"},method:"PUT",body:JSON.stringify({name:a,score:t})}).then((function(e){console.log(e)})).catch((function(e){console.warn(e)}))};if(0===n.state.bestScores.length)return null;t>e[0].score?(e[0].score=t,e[0].name=a,r(1)):t>e[1].score?(e[1].score=t,e[1].name=a,r(2)):t>e[2].score?(e[2].score=t,e[2].name=a,r(3)):console.log("spadaj na drzewo"),n.props.highScores(n.state.bestScores)},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.startInterval(),this.randomNumber();fetch("http://localhost:3010/bestScores/").then((function(e){return e.json()})).then((function(t){e.setState({bestScores:t})})).catch((function(e){console.warn(e)}))}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalID)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N,{width:this.state.width}),r.a.createElement(A,{a:this.state.a,b:this.state.b}),r.a.createElement(C,{answer:this.changeAnswer,zeroInput:this.state.answer,enter:this.checkAnswer}),r.a.createElement(D,{score:this.state.score,level:this.state.level}))}}]),t}(a.Component),W=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={score:0,welcomeWindow:!0,countingWindow:!1,appWindow:!1,gameOver:!1,userName:"GallAnonim",bestScores:[]},n.readyToGame=function(){n.setState({welcomeWindow:!1,appWindow:!0,gameOver:!1})},n.gameOver=function(){n.setState({welcomeWindow:!1,appWindow:!1,gameOver:!0})},n.setScore=function(e){n.setState({score:e})},n.changeName=function(e){n.setState({userName:e})},n.changeBestScores=function(e){n.setState({bestScores:e})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},this.state.welcomeWindow&&r.a.createElement(g,{close:this.readyToGame,userName:this.changeName}),this.state.appWindow&&r.a.createElement(I,{gameover:this.gameOver,score:this.setScore,userName:this.state.userName,highScores:this.changeBestScores}),this.state.gameOver&&r.a.createElement(S,{score:this.state.score,ready:this.readyToGame,bestScores:this.state.bestScores}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[17,1,2]]]);
//# sourceMappingURL=main.ab4b1199.chunk.js.map